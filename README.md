# AIChat - DeepSeek 聊天应用

一个基于 React + TypeScript 的前端 AI 聊天工具，调用 DeepSeek API，支持 V3 对话模式和 R1 推理模式。

## 🚀 特性

- **双模式支持**: DeepSeek-V3 快速对话 / DeepSeek-R1 深度推理（默认R1模式）
- **重新生成功能**: 支持对AI回答进行重新生成，提升对话体验
- **实时流式响应**: 支持思考过程和答案的实时显示
- **模式独立配置**: 对话模式与设置参数完全分离
- **现代化UI**: 简洁美观的用户界面
- **纯前端实现**: 无需后端服务，数据不保存

## 📁 项目结构

```
src/chat/
├── types.ts        # 类型定义 - 清晰的接口和类型结构
├── api.ts          # API调用 - 简化的请求处理和流式响应
├── components.tsx  # 组件库 - 可复用的UI组件
├── ChatPage.tsx    # 主页面 - 优化的状态管理和逻辑
└── index.ts        # 导出文件
```

## 🛠️ 核心组件

### 主要组件
- `ModelToggle` - 模式切换按钮 (V3/R1)，默认使用R1推理模式
- `MessageBubble` - 消息气泡，支持思考过程展示和重新生成功能
- `LoadingDisplay` - 实时加载状态，显示AI思考和回答过程
- `AISettings` - 设置面板，分别配置V3和R1参数
- `ChatInputArea` - 聊天输入区域

### 公共组件
- `AnimatedDots` - 统一的加载动画
- `Icons` - 图标组件库
- `Slider` - 可复用的滑块组件

## 🔧 重构改进

### 代码质量提升
- ✅ **去除重复代码**: 提取公共组件和工具函数
- ✅ **简化逻辑**: 移除不必要的检查和冗余操作
- ✅ **职责分离**: 每个组件功能单一、职责清晰
- ✅ **优化性能**: 减少不必要的渲染和计算

### 架构优化
- ✅ **模块化设计**: 清晰的文件结构和组件分层
- ✅ **类型安全**: 完善的 TypeScript 类型定义
- ✅ **状态管理**: 简化的状态结构和更新逻辑
- ✅ **错误处理**: 统一的错误处理和用户提示

### 用户体验
- ✅ **独立模式**: 对话模式与设置完全分离，互不干扰
- ✅ **实时反馈**: 流式显示AI思考过程和回答
- ✅ **直观操作**: 简洁的界面和明确的交互逻辑

## 🎮 使用方式

1. **模式切换**: 点击输入框左下角的 V3/R1 按钮切换对话模式（默认R1推理模式）
2. **参数配置**: 点击左上角设置按钮，分别配置V3和R1的参数
3. **发送消息**: 输入文本后按回车或点击发送按钮
4. **查看思考**: 在R1模式下，可以展开查看AI的思考过程
5. **重新生成**: 对于AI的最后一条回答，可以点击"重新生成"按钮获得新的回答

## 📝 技术栈

- **框架**: React 18 + TypeScript
- **样式**: Tailwind CSS
- **构建**: Vite
- **API**: DeepSeek Chat API

## 🤖 DeepSeek API 说明

本应用基于 DeepSeek 官方 API 文档进行开发，确保了最佳的模型使用体验：

### 模型版本
- **deepseek-chat**: 对应 DeepSeek-V3-0324，支持温度等参数调节
- **deepseek-reasoner**: 对应 DeepSeek-R1-0528，具备强大的推理能力

### R1 推理模型特性
- 支持思维链(Chain of Thought)推理
- 返回 `reasoning_content`（思考过程）和 `content`（最终答案）
- 在多轮对话中，思考过程不会传递给下一轮（符合官方文档要求）
- 最大输出长度可达 64K tokens

### 参数优化
- R1 模型：不支持 temperature、top_p 等随机性参数，专注推理准确性
- V3 模型：支持完整的参数配置，可调节创意度和输出风格
- 流式响应：实时显示AI的思考和回答过程
